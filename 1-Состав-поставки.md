# Рантайм CODESYS 3.5.16.40

## Состав поставки

1. codesyscontrol - исполняемый файл, рантайм.
2. CODESYSControl.cfg - файл конфигурации рантайма.
3. 3S.dat - файл разрешений опциональных модулей рантайма.
4. codesyscontrol.service - пример сервиса автозапуска для линукс.
5. CODESYS Control SOM Prolog Store WV TV.devdesc.xml - файл описания устройства.
6. libVisu - набор библиотек визуализации **[Опционально]**
7. libsqt5.tar - набор библиотек Qt **[Опционально]**

## Установка файлов рантайма

**Важно! Все делается с правами root. ОС должна быть 32 бита!** 

Ниже алгоритм базовый, пути и методы запска можно кооректировать самостоятельно:

1. Первы три файла (см Состав поставки выше) копируем в ПЛК в папку /usr/bin/codesys/CODESYSControl
2. Назначаем права на запуск для codesyscontrol
3. Все содержимое libVisu (если есть в поставке) копируем в /usr/lib
4. **ВНИМАНИЕ! Для работы визуализации ваша ОС Linux должна быть Вами собрана с QT5!** В этом пункте 
	описывается ручная установка библиотек QT скомпилированных для других систем. Их можно использовать
	для демонстрации работы, пока вы не соберете свою ОС с QT. После того, как соберете свою QT, то
	этот пункт выполнять не надо:
	скопировать все содержимое libsqt5.tar с сохранением структуры папок в /usr/lib

5. Настройка автозапуска:
	cp codesyscontrol.service /lib/systemd/system
	systemctl enable codesyscontrol

6. После перезагрузки в htop вы должны увидеть процессы codesyscontrol. 

Рантайм будет запущен в демо-режиме и создаст файл /usr/bin/codesys/CODESYSControl/req.lic - это файл запроса лицензий.
На основе его, с помощью нашего онлайн робота вы можете сгенерировать лицензию. 

[Инструкция по лицензированию](2-Система-лицензирования.md)

В IDE использовать в качестве файла описания устройств .devdesc.xml. 

## Останов рантайма

systemctl kill -s SIGKILL codesyscontrol.service